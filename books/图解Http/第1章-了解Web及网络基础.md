# 第1章 了解Web及网络基础

讲了TCP/IP协议族,分层,如何传输,TCP三次握手,URI&URL等网络基础。 

<img src="http://ww4.sinaimg.cn/large/98900c07gw1fakjco3lq4j21kw10kn5z.jpg"/>  


## TCP/IP 分层管理

TCP/IP协议族按层次分别分为以下4层:  

**应用层==>传输层==>网络层==>数据链路层**

分层的优势在于，当某块需要改变时，只需要修改一层即可。

###  应用层

应用层：**决定了向用户提供应用服务时通信的活动**.

TCP/IP协议族内预存了各类通用的应用服务,如:`FTP` `DNS` `HTTP`

### 传输层

传输层：**对上层应用层,提供处于网络连接中的两台计算机之间的数据传输**.  

传输层有两个性质不同的协议:`TCP`和`UDP`  

	PS: TCP 可靠 ,UDP 不可靠 后面会讲

### 网络层(又名网络互联层)

网络层：用来**处理在网络上流动的数据包**. 数据包是网络传输的最小单位。     

该层规定了通过怎么样的路径（所谓的传输路线）到达对方计算机，并把数据包传送给对方。

网络层所起的作用就是在众多的选项内选择一条传输路线。  

	PS：IP协议在网络层  

### 链路层(又名数据链路层,网络接口层)

用来处理链接网络的硬件部分。    

包括控制操作系统、硬件的设备驱动、NIC(网卡)、光纤等。硬件上的范畴都在链路层的作用范围内。


##### 其他知识点

发送端从应用层往下走，接收端则往应用层往上走。

发送时，数据经过每一层，都会被加上该层的首部信息，接受时，经过每一层，都会被校区该层信息。


## 负责传输的 IP协议

IP 协议的作用是**把各种数据包传送给对方**。

保证确实送到对方的重要条件：

1. IP 地址（节点被分配到的地址，可变）
2. MAC 地址（网卡所属的固定地址，一般不会变）

IP之间的通信依赖 Mac 地址，IP 地址可以和 MAC 地址配对。


在多台网络设备间中转的时候，采用 ARP 协议（地址解析协议），根据通信方的 IP 地址，反查出对应的 MAC 地址。  


## 确保可靠性的 TCP协议 

TCP 位于传输层,提供**可靠的字节流服务**（Byte Stream Service）  

字节流服务是指 **为了方便传输,将大块数据分割成以`报文段(segment)`为单位的数据包进行管理** 这样能更容易传送大数据。    

### 可靠性(三次握手)  

TCP的可靠性是因为它采用了**三次握手策略(three-way handshaking)**  

握手过程中使用了TCP的标志:  
- SYN(synchronize)
- ACK(acknowledgement 确认)

三次握手的过程:  

1. 客户端先发送带有 SYN 标志的数据包给对方。（我要给你发数据了）
2. 接收端收到消息后，回传带有 SYN/ACK 标志的数据包，以示确认。（告诉你，我收到了）
3. 最后发送端再回传一个带有 ACK 标志的数据包，代表“握手”结束。（我知道你收到了，结束）


## 负责域名解析的 DNS 服务

DNS 服务是和 HTTP 协议一样位于应用层的协议。**它提供域名到 IP 地址之间的解析服务**（通过域名查找 IP地址，反之亦可）

### 分层小结  

| 协议名称 | 所属层  |
| :--: | :--: |
| HTTP | 应用层  |
| DNS  | 应用层  |
|  IP  | 网络层  |
| TCP  | 传输层  |

## URI和 URL

URI 统一资源标识符，URL 统一资源定位符。

URI**就是某个协议方案表示的资源定位的标识符**，协议方案是指**访问资源所使用的协议类型名称**。

比如采用 HTTP 协议时，协议方案就是 http。

URI 协议方案有30种左右：

- ftp  
- http  
- ldap  
- mailto  
- tel    
- ...

URI格式如下：

<img src="http://ww2.sinaimg.cn/large/98900c07gw1fakk1vj1nbj20aa02e74b.jpg"/>









